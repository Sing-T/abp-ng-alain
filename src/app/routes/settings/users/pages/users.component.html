<page-header [homeI18n]="'menu.home' | translate"></page-header>

<ng-template #extraTemplate>
  <a nz-dropdown [nzDropdownMenu]="refresh">
    {{ l('More') }} <i nz-icon nzType="anticon-down"></i>
  </a>
  <nz-dropdown-menu #refresh="nzDropdownMenu">
    <ul nz-menu nzSelectable>
      <li nz-menu-item (click)="load(pageInfo.pageIndex)">{{ l('Refresh') }}</li>
    </ul>
  </nz-dropdown-menu>
</ng-template>

<nz-card [nzExtra]="extraTemplate">
  <div class="my-sm">
    <button (click)="add()" nz-button nzType="primary">{{ l('Add') }}</button>
  </div>

  <nz-table #tenantListTable [nzFrontPagination]="false" [nzData]="list" [nzLoading]="loading"
    [nzTotal]="pageInfo.total" [(nzPageIndex)]="pageInfo.pageIndex" [(nzPageSize)]="pageInfo.pageSize"
    (nzPageIndexChange)="load()" (nzPageSizeChange)="load()" [nzShowSizeChanger]="true">
    <thead nz-thead>
      <tr>
        <th nz-th>
          <span>{{ l("Index") }}</span>
        </th>
        <th nz-th>
          <span>{{ l("UserName") }}</span>
        </th>
        <th nz-th>
          <span>{{ l("FullName") }}</span>
        </th>
        <th nz-th>
          <span>{{ l("EmailAddress") }}</span>
        </th>
        <th nz-th>
          <span>{{ l('IsActive') }}</span>
        </th>
        <th nz-th>
          <span>{{ l('Actions') }}</span>
        </th>
      </tr>
    </thead>
    <tbody nz-tbody>
      <tr nz-tbody-tr *ngFor="let data of tenantListTable.data; let i=index;">
        <td nz-td>
          <span>
            {{ (i + 1) + pageInfo.skipCount }}
          </span>
        </td>
        <td nz-td>
          <span>
            {{ data.userName }}
          </span>
        </td>
        <td nz-td>
          <span>
            {{ data.fullName }}
          </span>
        </td>
        <td nz-td>
          <span>
            {{ data.emailAddress }}
          </span>
        </td>
        <td nz-td>
          <nz-badge [nzStatus]="data.isActive ? 'success' : 'error'" [nzText]="data.isActive ? l('Yes') : l('No')">
          </nz-badge>
        </td>
        <td nz-td>
          <a class="ant-dropdown-link" nz-dropdown [nzDropdownMenu]="menu">
            <i nz-icon nzType="anticon-setting"></i>
            {{ l('Actions') }}
            <i nz-icon nzType="anticon-down"></i>
          </a>
          <nz-dropdown-menu #menu="nzDropdownMenu">
            <ul nz-menu nzSelectable>
              <li nz-menu-item (click)="edit(data.id)">{{ l('Edit') }}</li>
              <li nz-menu-item (click)="delete(data)">{{ l('Delete') }}</li>
            </ul>
          </nz-dropdown-menu>
        </td>
    </tbody>
  </nz-table>
</nz-card>